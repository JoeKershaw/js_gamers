<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>

    <meta charset="utf-8">
    <title> MOVING GAME</title>
    <style>
      #container{
        height: 400px;
        width: 600px;
        outline: 1px solid black;
        position: relative;
      }
      #guy{
        position: absolute;
        height: 50px;
        width: 50px;
        outline: 1px solid block;
        background-image: url("https://www.pngfind.com/pngs/m/436-4369822_50-x-50-pixel-art-hd-png-download.png") ;
        background-size: contain;
        background-repeat: no-repeat;
        left: 0px;
      }
      .bullet{
        position: absolute;
        height: 50px;
        width: 50px;
        outline: 1px solid block;
        background-color: blue;
        left: 0px;
      }
      .test {
        color: green;
      }
    </style>
  </head>
  <body>

    <div id="container">
      <div id="guy"></div>
    </div>

  </body>
  <script src="../public/javascripts/shooting.js"></script>
<script type="text/javascript">
  let guy=document.getElementById('guy');
  var container=document.getElementById('container');

  var guyHorizontal = 0;
  var guyVertical = 0;

  // let myVar = setInterval(bulletMove, 1000);
  //
  // let bulletHorizontal = 0;


  function anim(e){
    <!-- Right -->
    if(e.keyCode == 39){
      if(guyHorizontal != 550){
        guyHorizontal +=50;
        guy.style.left = guyHorizontal + 'px';
      }
    }
    <!-- Left -->
    if(e.keyCode == 37){
      if(guyHorizontal != 0){
        guyHorizontal -=50;
        guy.style.left = guyHorizontal + 'px';
      }
    }
    <!-- Up -->
    if(e.keyCode == 38){
      if(guyVertical != 0){
        guyVertical -=50;
        guy.style.top = guyVertical + 'px';
      }
    }
    <!-- Down -->
    if(e.keyCode == 40){
      if(guyVertical != 350){
        guyVertical +=50;
        guy.style.top = guyVertical + 'px';
      }
    }

    if(e.keyCode == 32){
      let bullet = new Bullet;
      bullet.createBullet(guyHorizontal, guyVertical);
      document.getElementById(`${bullet.id}`).style.backgroundImage="url('../public/images/new_bullet copy.png')";
      var continuous = setInterval(function(){
        var check = document.getElementById(`${bullet.id}`);
        if (check == null) {
          clearInterval(continuous)
        }
        bullet.bulletMove(guyHorizontal, guyVertical);
        checkBullets();
      }, 50);
    }
  }
  // function bulletMove() {
  //   bullet.className = 'bullet';
  //   bulletHorizontal += 50;
  //   bullet.style.left = bulletHorizontal + 'px';
  //   removeElement();
  // }
  //
  // function removeElement() {
  //   bullet.className = 'bullet';
  //   bullet.remove();
  // }


  document.onkeydown = anim

</script>


</html>
